"use strict";const{Transform:e}=require("readable-stream"),{crc32:s}=require("crc");module.exports=class extends e{constructor(e){super(e),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0}_transform(e,r,t){e&&(this.checksum=s(e,this.checksum),this.rawSize+=e.length),t(null,e)}digest(e){const s=Buffer.allocUnsafe(4);return s.writeUInt32BE(this.checksum>>>0,0),e?s.toString(e):s}hex(){return this.digest("hex").toUpperCase()}size(){return this.rawSize}};