"use strict";const r=require("indent-string"),e=require("clean-stack"),t=r=>r.replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,"");module.exports=class extends Error{constructor(o){if(!Array.isArray(o))throw new TypeError(`Expected input to be an Array, got ${typeof o}`);let s=(o=[...o].map(r=>r instanceof Error?r:null!==r&&"object"==typeof r?Object.assign(new Error(r.message),r):new Error(r))).map(r=>"string"==typeof r.stack?t(e(r.stack)):String(r)).join("\n");super(s="\n"+r(s,4)),this.name="AggregateError",Object.defineProperty(this,"_errors",{value:o})}*[Symbol.iterator](){for(const r of this._errors)yield r}};