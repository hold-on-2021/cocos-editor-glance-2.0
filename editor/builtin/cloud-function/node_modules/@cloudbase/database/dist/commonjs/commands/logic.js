"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../helper/symbol"),r=require("./query");var t;exports.AND="and",exports.OR="or",exports.NOT="not",exports.NOR="nor",function(e){e.AND="and",e.OR="or",e.NOT="not",e.NOR="nor"}(t=exports.LOGIC_COMMANDS_LITERAL||(exports.LOGIC_COMMANDS_LITERAL={}));class o{constructor(t,o,n){if(this._internalType=e.SYMBOL_LOGIC_COMMAND,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=t,this.operands=o,this.fieldName=n||e.SYMBOL_UNSET_FIELD_NAME,this.fieldName!==e.SYMBOL_UNSET_FIELD_NAME){o=o.slice(),this.operands=o;for(let e=0,t=o.length;e<t;e++){const t=o[e];(s(t)||r.isQueryCommand(t))&&(o[e]=t._setFieldName(this.fieldName))}}}_setFieldName(e){const r=this.operands.map(r=>r instanceof o?r._setFieldName(e):r);return new o(this.operator,r,e)}and(...e){const r=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return r.unshift(this),new o(t.AND,r,this.fieldName)}or(...e){const r=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return r.unshift(this),new o(t.OR,r,this.fieldName)}}function s(r){return r&&r instanceof o&&r._internalType===e.SYMBOL_LOGIC_COMMAND}exports.LogicCommand=o,exports.isLogicCommand=s,exports.isKnownLogicCommand=function(e){return s&&e.operator.toUpperCase()in t},exports.default=o;