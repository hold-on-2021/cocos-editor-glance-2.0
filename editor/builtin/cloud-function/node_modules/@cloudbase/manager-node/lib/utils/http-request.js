"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const t=require("url"),r=e(require("node-fetch")),n=e(require("https-proxy-agent"));exports.fetch=async function(e,o={},s){(s||process.env.http_proxy)&&(o.agent=new n.default(s||process.env.http_proxy));const u=new t.URL(e).toString();return(await r.default(u,o)).json()},exports.fetchStream=async function(e,o={},s){(s||process.env.http_proxy)&&(o.agent=new n.default(s||process.env.http_proxy));const u=new t.URL(e).toString();return r.default(u,o)};