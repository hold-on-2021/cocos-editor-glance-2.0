"use strict";module.exports=function(){var r=require("./promise.js");return function(n,t){return function(){for(var u=arguments.length,e=Array(u),i=0;i<u;i++)e[i]=arguments[i];var o=t&&t.multiArgs,f=void 0;return t&&t.thisArg?f=t.thisArg:t&&(f=t),new r(function(r,t){e.push(function(n){if(n)return t(n);for(var u=arguments.length,e=Array(u>1?u-1:0),i=1;i<u;i++)e[i-1]=arguments[i];if(!1==!!o)return r(e[0]);r(e)});var u=n.apply(f,e);(function(r){return r&&"function"==typeof r.then&&"function"==typeof r.catch})(u)&&r(u)})}}}();