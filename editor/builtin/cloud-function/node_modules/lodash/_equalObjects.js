var r=require("./_getAllKeys"),t=1,e=Object.prototype.hasOwnProperty;module.exports=function(n,o,c,i,a,f){var u=c&t,s=r(n),v=s.length;if(v!=r(o).length&&!u)return!1;for(var l=v;l--;){var p=s[l];if(!(u?p in o:e.call(o,p)))return!1}var g=f.get(n);if(g&&f.get(o))return g==o;var y=!0;f.set(n,o),f.set(o,n);for(var d=u;++l<v;){var h=n[p=s[l]],b=o[p];if(i)var O=u?i(b,h,p,o,n,f):i(h,b,p,n,o,f);if(!(void 0===O?h===b||a(h,b,c,i,f):O)){y=!1;break}d||(d="constructor"==p)}if(y&&!d){var j=n.constructor,k=o.constructor;j!=k&&"constructor"in n&&"constructor"in o&&!("function"==typeof j&&j instanceof j&&"function"==typeof k&&k instanceof k)&&(y=!1)}return f.delete(n),f.delete(o),y};