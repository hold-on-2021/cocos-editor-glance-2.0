"use strict";var t=require("process-nextick-args");function e(t,e){t.emit("error",e)}module.exports={destroy:function(a,i){var r=this,s=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return s||d?(i?i(a):!a||this._writableState&&this._writableState.errorEmitted||t.nextTick(e,this,a),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(a){!i&&a?(t.nextTick(e,r,a),r._writableState&&(r._writableState.errorEmitted=!0)):i&&i(a)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}};