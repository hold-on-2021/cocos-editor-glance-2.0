"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("../../utils");exports.default=class{constructor(t,e,s){this._patterns=t,this._settings=e,this._micromatchOptions=s,this._storage=[],this._fillStorage()}_fillStorage(){const e=t.pattern.expandPatternsWithBraceExpansion(this._patterns);for(const t of e){const e=this._getPatternSegments(t),s=this._splitSegmentsIntoSections(e);this._storage.push({complete:s.length<=1,pattern:t,segments:e,sections:s})}}_getPatternSegments(e){return t.pattern.getPatternParts(e,this._micromatchOptions).map(e=>t.pattern.isDynamicPattern(e,this._settings)?{dynamic:!0,pattern:e,patternRe:t.pattern.makeRe(e,this._micromatchOptions)}:{dynamic:!1,pattern:e})}_splitSegmentsIntoSections(e){return t.array.splitWhen(e,e=>e.dynamic&&t.pattern.hasGlobStar(e.pattern))}};