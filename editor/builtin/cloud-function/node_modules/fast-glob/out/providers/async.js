"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../readers/stream"),r=require("./provider");exports.default=class extends r.default{constructor(){super(...arguments),this._reader=new e.default(this._settings)}read(e){const r=this._getRootDirectory(e),t=this._getReaderOptions(e),s=[];return new Promise((a,i)=>{const n=this.api(r,e,t);n.once("error",i),n.on("data",e=>s.push(t.transform(e))),n.once("end",()=>a(s))})}api(e,r,t){return r.dynamic?this._reader.dynamic(e,t):this._reader.static(r.patterns,t)}};