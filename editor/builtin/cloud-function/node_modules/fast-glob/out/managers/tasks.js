"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("../utils");function e(t,e,r){const n=o(t);if("."in n){return[a(".",t,e,r)]}return s(n,e,r)}function r(e){return t.pattern.getPositivePatterns(e)}function n(e,r){return t.pattern.getNegativePatterns(e).concat(r).map(t.pattern.convertToPositivePattern)}function o(e){return e.reduce((e,r)=>{const n=t.pattern.getBaseDirectory(r);return n in e?e[n].push(r):e[n]=[r],e},{})}function s(t,e,r){return Object.keys(t).map(n=>a(n,t[n],e,r))}function a(e,r,n,o){return{dynamic:o,positive:r,negative:n,base:e,patterns:[].concat(r,n.map(t.pattern.convertToNegativePattern))}}exports.generate=function(o,s){const a=r(o),i=n(o,s.ignore),c=a.filter(e=>t.pattern.isStaticPattern(e,s)),u=a.filter(e=>t.pattern.isDynamicPattern(e,s)),p=e(c,i,!1),P=e(u,i,!0);return p.concat(P)},exports.convertPatternsToTasks=e,exports.getPositivePatterns=r,exports.getNegativePatternsAsPositive=n,exports.groupPatternsByBaseDirectory=o,exports.convertPatternGroupsToTasks=s,exports.convertPatternGroupToTask=a;