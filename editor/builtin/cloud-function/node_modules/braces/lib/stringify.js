"use strict";const e=require("./utils");module.exports=((l,r={})=>{let i=(l,u={})=>{let a=r.escapeInvalid&&e.isInvalidBrace(u),n=!0===l.invalid&&!0===r.escapeInvalid,s="";if(l.value)return(a||n)&&e.isOpenOrClose(l)?"\\"+l.value:l.value;if(l.value)return l.value;if(l.nodes)for(let e of l.nodes)s+=i(e);return s};return i(l)});