"use strict";const e=require("./lib/stringify"),r=require("./lib/compile"),t=require("./lib/expand"),i=require("./lib/parse"),p=(e,r={})=>{let t=[];if(Array.isArray(e))for(let i of e){let e=p.create(i,r);Array.isArray(e)?t.push(...e):t.push(e)}else t=[].concat(p.create(e,r));return r&&!0===r.expand&&!0===r.nodupes&&(t=[...new Set(t)]),t};p.parse=((e,r={})=>i(e,r)),p.stringify=((r,t={})=>e("string"==typeof r?p.parse(r,t):r,t)),p.compile=((e,t={})=>("string"==typeof e&&(e=p.parse(e,t)),r(e,t))),p.expand=((e,r={})=>{"string"==typeof e&&(e=p.parse(e,r));let i=t(e,r);return!0===r.noempty&&(i=i.filter(Boolean)),!0===r.nodupes&&(i=[...new Set(i)]),i}),p.create=((e,r={})=>""===e||e.length<3?[e]:!0!==r.expand?p.compile(e,r):p.expand(e,r)),module.exports=p;