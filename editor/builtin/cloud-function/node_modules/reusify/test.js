"use strict";var e=require("tape"),t=require("./");e("reuse objects",function(e){e.plan(6);var n=t(function(){e.pass("constructor called"),this.next=null}),u=n.get();e.notEqual(u,n.get(),"two instance created"),e.notOk(u.next,"next must be null"),n.release(u),n.release(n.get()),e.equal(u,n.get(),"instance must be reused")}),e("reuse more than 2 objects",function(e){var n=t(function(){e.pass("constructor called"),this.next=null}),u=n.get(),l=n.get(),a=n.get();e.notOk(u.next,"next must be null"),e.notOk(l.next,"next must be null"),e.notOk(a.next,"next must be null"),e.notEqual(u,l),e.notEqual(u,a),e.notEqual(a,l),n.release(u),n.release(l),n.release(a),n.get();var s=n.get(),r=n.get(),o=n.get();e.equal(s,u),e.equal(r,l),e.equal(o,a),e.end()});