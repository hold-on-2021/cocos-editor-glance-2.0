import{SCHEMES as e}from"../uri";const n="(?:[0-9A-Za-z][0-9A-Za-z\\-]{1,31})",r=(new RegExp("^urn\\:("+n+")$"),new RegExp("^("+n+")\\:((?:(?:(?:\\%[0-9A-Fa-f]{2})|[0-9A-Za-z\\(\\)\\+\\,\\-\\.\\:\\=\\@\\;\\$\\_\\!\\*\\'\\/\\?\\#])+))$"),/^([^\:]+)\:(.*)/);export default{scheme:"urn",parse:function(n,s){const t=n.path&&n.path.match(r);let a=n;if(t){const n=s.scheme||a.scheme||"urn",r=t[1].toLowerCase(),o=t[2],i=`${n}:${s.nid||r}`,c=e[i];a.nid=r,a.nss=o,a.path=void 0,c&&(a=c.parse(a,s))}else a.error=a.error||"URN can not be parsed.";return a},serialize:function(n,r){const s=r.scheme||n.scheme||"urn",t=n.nid,a=`${s}:${r.nid||t}`,o=e[a];o&&(n=o.serialize(n,r));const i=n,c=n.nss;return i.path=`${t||r.nid}:${c}`,i}};