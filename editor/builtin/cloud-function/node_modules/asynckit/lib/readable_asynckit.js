var t=require("./streamify.js"),r=require("./defer.js");function i(){this.destroyed||(this.destroyed=!0,"function"==typeof this.terminator&&this.terminator())}function e(){var i=arguments[0],e=Array.prototype.slice.call(arguments,1),s=e[0],n=t.callback.call(this,e[e.length-1]);e[e.length-1]=n,e[1]=t.iterator.call(this,e[1]),r(function(){this.destroyed?n(null,Array.isArray(s)?[]:{}):this.terminator=i.apply(null,e)}.bind(this))}function s(){}module.exports=function t(){t.super_.apply(this,arguments);this.jobs={};this.destroy=i;this._start=e;this._read=s};