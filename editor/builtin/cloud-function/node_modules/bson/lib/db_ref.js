"use strict";class t{constructor(t,e,i,s){const o=t.split(".");2===o.length&&(i=o.shift(),t=o.shift()),this.collection=t,this.oid=e,this.db=i,this.fields=s||{}}toJSON(){const t=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return null!=this.db&&(t.$db=this.db),t}toExtendedJSON(t){t=t||{};let e={$ref:this.collection,$id:this.oid};return t.legacy?e:(this.db&&(e.$db=this.db),e=Object.assign(e,this.fields))}static fromExtendedJSON(e){var i=Object.assign({},e);return["$ref","$id","$db"].forEach(t=>delete i[t]),new t(e.$ref,e.$id,e.$db,i)}}Object.defineProperty(t.prototype,"_bsontype",{value:"DBRef"}),Object.defineProperty(t.prototype,"namespace",{get(){return this.collection},set(t){this.collection=t},configurable:!1}),module.exports=t;