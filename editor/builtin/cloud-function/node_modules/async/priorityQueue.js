"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(a,o){var s=(0,u.default)(a,o);return s.push=function(u,a,o){if(null==o&&(o=t.default),"function"!=typeof o)throw new Error("task callback must be a function");if(s.started=!0,(0,e.default)(u)||(u=[u]),0===u.length)return(0,r.default)(function(){s.drain()});a=a||0;for(var n=s._tasks.head;n&&a>=n.priority;)n=n.next;for(var i=0,l=u.length;i<l;i++){var f={data:u[i],priority:a,callback:o};n?s._tasks.insertBefore(n,f):s._tasks.push(f)}(0,r.default)(s.process)},delete s.unshift,s};var e=a(require("lodash/isArray")),t=a(require("lodash/noop")),r=a(require("./setImmediate")),u=a(require("./queue"));function a(e){return e&&e.__esModule?e:{default:e}}module.exports=exports.default;