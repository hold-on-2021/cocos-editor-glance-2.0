function t(t){return Array.isArray(t)?t:[t]}const e=/^\s+$/,r=/^\\!/,s=/^\\#/,n=/\r?\n/g,i=/^\.*\/|^\.+$/,o="/",a="undefined"!=typeof Symbol?Symbol.for("node-ignore"):"node-ignore",c=(t,e,r)=>Object.defineProperty(t,e,{value:r}),h=/([0-z])-([0-z])/g,u=[[/\\?\s+$/,t=>0===t.indexOf("\\")?" ":""],[/\\\s/g,()=>" "],[/[\\^$.|*+(){]/g,t=>`\\${t}`],[/\[([^\]/]*)($|\])/g,(t,e,r)=>"]"===r?`[${(t=>t.replace(h,(t,e,r)=>e.charCodeAt(0)<=r.charCodeAt(0)?t:""))(e)}]`:`\\${t}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/(?:[^*])$/,t=>/\/$/.test(t)?`${t}$`:`${t}(?=$|\\/$)`],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(t,e,r)=>e+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(t,e)=>`${e}[^\\/]*`],[/(\^|\\\/)?\\\*$/,(t,e)=>{return`${e?`${e}[^/]+`:"[^/]*"}(?=$|\\/$)`}],[/\\\\\\/g,()=>"\\"]],d=Object.create(null),l=t=>"string"==typeof t,g=t=>t&&l(t)&&!e.test(t)&&0!==t.indexOf("#"),_=t=>t.split(n);const p=(t,e)=>{const n=t;let i=!1;return 0===t.indexOf("!")&&(i=!0,t=t.substr(1)),new class{constructor(t,e,r,s){this.origin=t,this.pattern=e,this.negative=r,this.regex=s}}(n,t=t.replace(r,"!").replace(s,"#"),i,((t,e,r)=>{const s=d[t];if(s)return s;const n=u.reduce((e,r)=>e.replace(r[0],r[1].bind(t)),t);return d[t]=r?new RegExp(n,"i"):new RegExp(n)})(t,0,e))},f=(t,e)=>{throw new e(t)},$=(t,e,r)=>{if(!l(t))return r(`path must be a string, but got \`${e}\``,TypeError);if(!t)return r("path must not be empty",TypeError);if($.isNotRelative(t)){return r(`path should be a ${"`path.relative()`d"} string, but got "${e}"`,RangeError)}return!0},v=t=>i.test(t);$.isNotRelative=v,$.convert=(t=>t);const b=e=>new class{constructor({ignorecase:t=!0}={}){this._rules=[],this._ignorecase=t,c(this,a,!0),this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[a])return this._rules=this._rules.concat(t._rules),this._added=!0,void 0;if(g(t)){const e=p(t,this._ignorecase);this._added=!0,this._rules.push(e)}}add(e){return this._added=!1,t(l(e)?_(e):e).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,e){let r=!1,s=!1;return this._rules.forEach(n=>{const{negative:i}=n;s===i&&r!==s||i&&!r&&!s&&!e||n.regex.test(t)&&(r=!i,s=i)}),{ignored:r,unignored:s}}_test(t,e,r,s){const n=t&&$.convert(t);return $(n,t,f),this._t(n,e,r,s)}_t(t,e,r,s){if(t in e)return e[t];if(s||(s=t.split(o)),s.pop(),!s.length)return e[t]=this._testOne(t,r);const n=this._t(s.join(o)+o,e,r,s);return e[t]=n.ignored?n:this._testOne(t,r)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(e){return t(e).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}}(e),y=()=>!1;if(b.isPathValid=(t=>$(t&&$.convert(t),t,y)),b.default=b,module.exports=b,"undefined"!=typeof process&&(process.env&&process.env.IGNORE_TEST_WIN32||"win32"===process.platform)){const t=t=>/^\\\\\?\\/.test(t)||/["<>|\u0000-\u001F]+/u.test(t)?t:t.replace(/\\/g,"/");$.convert=t;const e=/^[a-z]:\//i;$.isNotRelative=(t=>e.test(t)||v(t))}