"use strict";const r=require("../tar"),e=require("../gzip"),t=require("../base_stream");module.exports=class extends t{constructor(t){super(t);const s=this._tarStream=new r.Stream;s.on("error",r=>this.emit("error",r));const i=new e.FileStream;i.on("end",()=>this.push(null)),i.on("data",r=>this.push(r)),i.on("error",r=>this.emit("error",r)),s.pipe(i)}addEntry(r,e){this._tarStream.addEntry(r,e)}};