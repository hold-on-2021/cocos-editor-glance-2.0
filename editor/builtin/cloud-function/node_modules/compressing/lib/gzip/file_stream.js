"use strict";const r=require("fs"),e=require("zlib"),i=require("../utils"),s=require("streamifier");module.exports=class extends e.Gzip{constructor(e){super((e=e||{}).zlib);const t=i.sourceType(e.source);if("file"===t){const i=r.createReadStream(e.source,e.fs);return i.on("error",r=>this.emit("error",r)),i.pipe(this),void 0}if("buffer"===t){const r=s.createReadStream(e.source,e.streamifier);return r.on("error",r=>this.emit("error",r)),r.pipe(this),void 0}"stream"===t&&(e.source.on("error",r=>this.emit("error",r)),e.source.pipe(this))}};