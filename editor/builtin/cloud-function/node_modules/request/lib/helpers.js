"use strict";var e=require("json-stringify-safe"),r=require("crypto"),t=require("safe-buffer").Buffer,n="undefined"==typeof setImmediate?process.nextTick:setImmediate;exports.paramsHaveRequestBody=function(e){return e.body||e.requestBodyStream||e.json&&"boolean"!=typeof e.json||e.multipart},exports.safeStringify=function(r,t){var n;try{n=JSON.stringify(r,t)}catch(o){n=e(r,t)}return n},exports.md5=function(e){return r.createHash("md5").update(e).digest("hex")},exports.isReadStream=function(e){return e.readable&&e.path&&e.mode},exports.toBase64=function(e){return t.from(e||"","utf8").toString("base64")},exports.copy=function(e){var r={};return Object.keys(e).forEach(function(t){r[t]=e[t]}),r},exports.version=function(){var e=process.version.replace("v","").split(".");return{major:parseInt(e[0],10),minor:parseInt(e[1],10),patch:parseInt(e[2],10)}},exports.defer=n;