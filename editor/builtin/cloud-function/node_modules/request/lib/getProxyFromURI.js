"use strict";function t(t){return t.replace(/^\.*/,".").toLowerCase()}function o(o){var r=(o=o.trim().toLowerCase()).split(":",2);return{hostname:t(r[0]),port:r[1],hasPort:o.indexOf(":")>-1}}module.exports=function(r){var e=process.env.NO_PROXY||process.env.no_proxy||"";return"*"===e?null:""!==e&&function(r,e){var n=r.port||("https:"===r.protocol?"443":"80"),s=t(r.hostname);return e.split(",").map(o).some(function(t){var o=s.indexOf(t.hostname),r=o>-1&&o===s.length-t.hostname.length;return t.hasPort?n===t.port&&r:r})}(r,e)?null:"http:"===r.protocol?process.env.HTTP_PROXY||process.env.http_proxy||null:"https:"===r.protocol&&(process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy)||null};