var r=require("./lib/core"),e={},t=function(r,e){return t.create(r,e)};t.create=function(t,o){if(e[t]){var i=new r(t,o);return i.setFormat(t),i.setModule(new e[t](o)),i}throw new Error("create("+t+"): format not registered")},t.registerFormat=function(r,t){if(e[r])throw new Error("register("+r+"): format already registered");if("function"!=typeof t)throw new Error("register("+r+"): format module invalid");if("function"!=typeof t.prototype.append||"function"!=typeof t.prototype.finalize)throw new Error("register("+r+"): format module missing methods");e[r]=t},t.registerFormat("zip",require("./lib/plugins/zip")),t.registerFormat("tar",require("./lib/plugins/tar")),t.registerFormat("json",require("./lib/plugins/json")),module.exports=t;