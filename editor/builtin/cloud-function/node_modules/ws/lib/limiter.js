"use strict";const s=Symbol("kDone"),t=Symbol("kRun");module.exports=class{constructor(i){this[s]=(()=>{this.pending--,this[t]()}),this.concurrency=i||1/0,this.jobs=[],this.pending=0}add(s){this.jobs.push(s),this[t]()}[t](){if(this.pending!==this.concurrency&&this.jobs.length){const t=this.jobs.shift();this.pending++,t(this[s])}}};