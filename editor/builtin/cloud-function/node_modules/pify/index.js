"use strict";const e=(e,t)=>(function(){const n=t.promiseModule,r=new Array(arguments.length);for(let e=0;e<arguments.length;e++)r[e]=arguments[e];return new n((n,o)=>{t.errorFirst?r.push(function(e,r){if(t.multiArgs){const t=new Array(arguments.length-1);for(let e=1;e<arguments.length;e++)t[e-1]=arguments[e];e?(t.unshift(e),o(t)):n(t)}else e?o(e):n(r)}):r.push(function(e){if(t.multiArgs){const e=new Array(arguments.length-1);for(let t=0;t<arguments.length;t++)e[t]=arguments[t];n(e)}else n(e)}),e.apply(this,r)})});module.exports=((t,n)=>{n=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},n);const r=e=>{const t=t=>"string"==typeof t?e===t:t.test(e);return n.include?n.include.some(t):!n.exclude.some(t)};let o;o="function"==typeof t?function(){return n.excludeMain?t.apply(this,arguments):e(t,n).apply(this,arguments)}:Object.create(Object.getPrototypeOf(t));for(const s in t){const i=t[s];o[s]="function"==typeof i&&r(s)?e(i,n):i}return o});