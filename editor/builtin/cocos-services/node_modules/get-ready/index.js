"use strict";function s(s){if(this._ready=!!this._ready,this._readyCallbacks=this._readyCallbacks||[],0===arguments.length)return new Promise(function(s){if(this._ready)return s();this._readyCallbacks.push(s)}.bind(this));"function"==typeof s?this._readyCallbacks.push(s):this._ready=!!s,this._ready&&this._readyCallbacks.splice(0,1/0).forEach(function(s){process.nextTick(s)})}function e(e){e.ready=s}module.exports=e,module.exports.mixin=e;