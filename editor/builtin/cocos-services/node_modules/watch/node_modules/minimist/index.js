function n(n){return"number"==typeof n||(!!/^0x[0-9a-f]+$/i.test(n)||/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(n))}module.exports=function(t,o){o||(o={});var e={bools:{},strings:{},unknownFn:null};"function"==typeof o.unknown&&(e.unknownFn=o.unknown),"boolean"==typeof o.boolean&&o.boolean?e.allBools=!0:[].concat(o.boolean).filter(Boolean).forEach(function(n){e.bools[n]=!0});var s={};Object.keys(o.alias||{}).forEach(function(n){s[n]=[].concat(o.alias[n]),s[n].forEach(function(t){s[t]=[n].concat(s[n].filter(function(n){return t!==n}))})}),[].concat(o.string).filter(Boolean).forEach(function(n){e.strings[n]=!0,s[n]&&(e.strings[s[n]]=!0)});var i=o.default||{},r={_:[]};Object.keys(e.bools).forEach(function(n){a(n,void 0!==i[n]&&i[n])});var l=[];function a(t,o,i){if(!i||!e.unknownFn||function(n,t){return e.allBools&&/^--[^=]+$/.test(t)||e.strings[n]||e.bools[n]||s[n]}(t,i)||!1!==e.unknownFn(i)){var l=!e.strings[t]&&n(o)?Number(o):o;f(r,t.split("."),l),(s[t]||[]).forEach(function(n){f(r,n.split("."),l)})}}function f(n,t,o){var s=n;t.slice(0,-1).forEach(function(n){void 0===s[n]&&(s[n]={}),s=s[n]});var i=t[t.length-1];void 0===s[i]||e.bools[i]||"boolean"==typeof s[i]?s[i]=o:Array.isArray(s[i])?s[i].push(o):s[i]=[s[i],o]}function c(n){return s[n].some(function(n){return e.bools[n]})}-1!==t.indexOf("--")&&(l=t.slice(t.indexOf("--")+1),t=t.slice(0,t.indexOf("--")));for(var u=0;u<t.length;u++){var h=t[u];if(/^--.+=/.test(h)){var b=h.match(/^--([^=]+)=([\s\S]*)$/),p=b[1],v=b[2];e.bools[p]&&(v="false"!==v),a(p,v,h)}else if(/^--no-.+/.test(h)){a(p=h.match(/^--no-(.+)/)[1],!1,h)}else if(/^--.+/.test(h)){p=h.match(/^--(.+)/)[1];void 0===(E=t[u+1])||/^-/.test(E)||e.bools[p]||e.allBools||s[p]&&c(p)?/^(true|false)$/.test(E)?(a(p,"true"===E,h),u++):a(p,!e.strings[p]||"",h):(a(p,E,h),u++)}else if(/^-[^-]+/.test(h)){for(var d=h.slice(1,-1).split(""),k=!1,g=0;g<d.length;g++){var E;if("-"!==(E=h.slice(g+2))){if(/[A-Za-z]/.test(d[g])&&/=/.test(E)){a(d[g],E.split("=")[1],h),k=!0;break}if(/[A-Za-z]/.test(d[g])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(E)){a(d[g],E,h),k=!0;break}if(d[g+1]&&d[g+1].match(/\W/)){a(d[g],h.slice(g+2),h),k=!0;break}a(d[g],!e.strings[d[g]]||"",h)}else a(d[g],E,h)}p=h.slice(-1)[0];k||"-"===p||(!t[u+1]||/^(-|--)[^-]/.test(t[u+1])||e.bools[p]||s[p]&&c(p)?t[u+1]&&/true|false/.test(t[u+1])?(a(p,"true"===t[u+1],h),u++):a(p,!e.strings[p]||"",h):(a(p,t[u+1],h),u++))}else if(e.unknownFn&&!1===e.unknownFn(h)||r._.push(e.strings._||!n(h)?h:Number(h)),o.stopEarly){r._.push.apply(r._,t.slice(u+1));break}}return Object.keys(i).forEach(function(n){(function(n,t){var o=n;return t.slice(0,-1).forEach(function(n){o=o[n]||{}}),t[t.length-1]in o})(r,n.split("."))||(f(r,n.split("."),i[n]),(s[n]||[]).forEach(function(t){f(r,t.split("."),i[n])}))}),o["--"]?(r["--"]=new Array,l.forEach(function(n){r["--"].push(n)})):l.forEach(function(n){r._.push(n)}),r};